{{ template "header.html" . }}

<div class="max-w-6xl mx-auto mt-10">
    <h1 class="mb-6 text-3xl font-bold">Add New Goal</h1>
    <form method="POST" action="/goals/addNewGoal" class="p-8 bg-white rounded shadow-md">
        <div class="mb-4">
            <label for="title" class="block mb-2 font-medium text-gray-700">Title</label>
            <input type="text" id="title" name="title" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
        
      <!-- -  <div class="mb-4">
            <label for="startat" class="block mb-2 font-medium text-gray-700">Start Date</label>
            <input type="datetime-local" id="startat" name="startat" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
        
        <div class="mb-4">
            <label for="endat" class="block mb-2 font-medium text-gray-700">End Date</label>
            <input type="datetime-local" id="endat" name="endat" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
    -->
        <div class="mb-4">
            <label for="category" class="block mb-2 font-medium text-gray-700">Category</label>
            <div class="flex items-center gap-2">
                <select id="category" name="category" class="w-full p-2 border border-gray-300 rounded" required>
                    <option value="">Select a category</option>
                    {{ range .categories }}
                        <option value="{{ .ID }}">{{ .Title }}</option>
                    {{ end }}
                </select>
                <a href="/categories/listcategories">New category</a>
                <!-- <button type="button" id="add-category-btn" class="p-2 text-white bg-blue-500 rounded hover:bg-blue-600">+</button> -->
            </div>
        </div>

        <div class="mb-4">
            <label for="description" class="block mb-2 font-medium text-gray-700">Description</label>
            <textarea id="description" name="description" class="w-full p-2 border border-gray-300 rounded" rows="4"></textarea>
        </div>

        <button type="submit" class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600">Submit</button>
    </form>
</div>

<!-- modal bang to add new cat kl gaada pilihan / nambah baru -->
<!-- <div id="category-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden bg-gray-900 bg-opacity-50">
    <div class="p-6 bg-white rounded shadow-lg">
        <h2 class="mb-4 text-lg font-bold">Add New Category</h2>
        <form id="category-form">
            <div class="mb-4">
                <label for="new-category" class="block mb-2 font-medium text-gray-700">Category Name</label>
                <input type="text" id="new-category" name="new-category" class="w-full p-2 border border-gray-300 rounded" required>
            </div>
            <div class="flex justify-end gap-2">
                <button type="button" id="cancel-category-btn" class="px-4 py-2 text-gray-700 bg-gray-200 rounded hover:bg-gray-300">Cancel</button>
                <button type="submit" class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600">Add</button>
            </div>
        </form>
    </div>
</div> -->

<!-- <script>
//modal thingy
    document.getElementById('add-category-btn').addEventListener('click', function() {
        document.getElementById('category-modal').classList.remove('hidden');
    });

    document.getElementById('cancel-category-btn').addEventListener('click', function() {
        document.getElementById('category-modal').classList.add('hidden');
    });

    document.getElementById('category-form').addEventListener('submit', function(event) {
        event.preventDefault();
        const newCategory = document.getElementById('new-category').value;

        const categoryDropdown = document.getElementById('category');
        const newOption = document.createElement('option');
        newOption.value = newCategory;
        newOption.textContent = newCategory;
        categoryDropdown.appendChild(newOption);

        document.getElementById('new-category').value = '';
        document.getElementById('category-modal').classList.add('hidden');
    });
</script> -->
